{"version":3,"sources":["webpack:///F:/HBuilderX/uniBBS-master/components/upimgbox.vue?4c35","webpack:///F:/HBuilderX/uniBBS-master/components/upimgbox.vue?f2d7","webpack:///F:/HBuilderX/uniBBS-master/components/upimgbox.vue?e162","webpack:///F:/HBuilderX/uniBBS-master/components/upimgbox.vue?c32a","webpack:///F:/HBuilderX/uniBBS-master/components/upimgbox.vue"],"names":["app","require","name","props","defaultImgsList","defaultImgsData","data","imgsData","imgsList","methods","upImg","that","uni","chooseImage","success","chooseImageRes","tempFilePaths","len","length","i","uploadFile","url","apiHost","getAuthCode","filePath","dataType","res","error","rs","JSON","parse","json","imgurl","trueimgurl","json_add","delImg","index","imgslist","mgs","push","console","log"],"mappings":"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","file":"components/upimgbox.js","sourcesContent":["import { render, staticRenderFns } from \"./upimgbox.vue?vue&type=template&id=cf21617c&\"\nimport script from \"./upimgbox.vue?vue&type=script&lang=js&\"\nexport * from \"./upimgbox.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\gongju\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\gongju\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('cf21617c', component.options)\n    } else {\n      api.reload('cf21617c', component.options)\n    }\n    module.hot.accept(\"./upimgbox.vue?vue&type=template&id=cf21617c&\", function () {\n      api.rerender('cf21617c', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"F:/HBuilderX/uniBBS-master/components/upimgbox.vue\"\nexport default component.exports","export * from \"-!D:\\\\gongju\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\gongju\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\gongju\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\gongju\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\gongju\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./upimgbox.vue?vue&type=template&id=cf21617c&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!D:\\\\gongju\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\gongju\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\gongju\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\gongju\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\gongju\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./upimgbox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\gongju\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\gongju\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\gongju\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\gongju\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\gongju\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./upimgbox.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nvar app = require(\"../common/common.js\"); \nexport default {\n\tname:\"upimg-box\",\n\tprops:{\n\t\tdefaultImgsList:{}, \n\t\tdefaultImgsData:{},\n\t},\n\tdata:function(){\n\t\treturn {\n\t\t\timgsData:this.defaultImgsData,\n\t\t\timgsList:this.defaultImgsList,\n\t\t}\n\t},\n\tmethods:{\n\t\tupImg:function(){\n\t\t\tvar that=this;\n\t\t\t\n\t\t\tuni.chooseImage({\n\t\t\t\tsuccess: function (chooseImageRes) {\n\t\t\t\t\tconst tempFilePaths = chooseImageRes.tempFilePaths;\n\t\t\t\t\tconst len=tempFilePaths.length;\n\t\t\t\t\tfor(var i=0;i<len;i++){\n\t\t\t\t\t\tuni.uploadFile({\n\t\t\t\t\t\t\turl: app.apiHost+'?fromapp=wxapp&m=upload&a=img&ajax=1&authcode='+app.getAuthCode(), //仅为示例，非真实的接口地址\n\t\t\t\t\t\t\tfilePath: tempFilePaths[i],\n\t\t\t\t\t\t\tname: 'upimg',\n\t\t\t\t\t\t\tdataType:\"json\",\n\t\t\t\t\t\t\tsuccess: function (res) {\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif(!res.data.error){\n\t\t\t\t\t\t\t\t\tvar rs=JSON.parse(res.data);\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tvar json=[{\n\t\t\t\t\t\t\t\t\t\timgurl:rs.data.imgurl,\n\t\t\t\t\t\t\t\t\t\ttrueimgurl:rs.data.trueimgurl\n\t\t\t\t\t\t\t\t\t}];\n\t\t\t\t\t\t\t\t\tthat.imgsList=app.json_add(that.imgsList,json);\n\t\t\t\t\t\t\t\t\tif(that.imgsData!=\"\"){\n\t\t\t\t\t\t\t\t\t\tthat.imgsData=that.imgsData+\",\"+rs.data.imgurl;\n\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\tthat.imgsData=rs.data.imgurl;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tdelImg:function(index){\n\t\t\tvar len=this.imgsList.length;\n\t\t\tvar imgslist=[];\n\t\t\tvar imgsData=\"\";\n\t\t\tvar mgs=this.imgsList;\n\t\t\tfor(var i in mgs){\n\t\t\t\tif(i!=index){\n\t\t\t\t\timgslist.push(mgs[i]);\t\t\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(var i=0;i<imgslist.length;i++){\n\t\t\t\tif(i>0){\n\t\t\t\t\timgsData+=\",\";\n\t\t\t\t}\n\t\t\t\timgsData+=imgslist[i].imgurl;\n\t\t\t}\n\t\t\tconsole.log(imgsData);\n\t\t\tthis.imgsData=imgsData;\n\t\t\tthis.imgsList=imgslist;\n\t\t\t\n\t\t}\n\t}\n}\n"],"sourceRoot":""}